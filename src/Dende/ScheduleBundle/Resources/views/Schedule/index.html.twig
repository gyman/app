{% extends "::base.html.twig" %}

{% block body %}
<div class="heading">
    <h3>Harmonogram zajęć <small>(tylko odczyt)</small></h3>                    
    {# <a href="{{path("_member_new")}}" class="btn pull-right createNewMember"><span class="icon32 icomoon-icon-new green"></span>Nowe wydarzenie</a> #}
</div><!-- End .heading-->

<!-- Build page from here: Usual with <div class="row-fluid"></div> -->


<div class="row-fluid">

    <div class="span12">

        <div class="box gradient">

            <div class="title">
                <h4>
                    <span>{% block membersTitle %}Lista osób{% endblock membersTitle %}</span>
                </h4>
            </div>
            <div class="content noPad clearfix">
                <div id="calendar"></div>
            </div>

        </div><!-- End .box -->

    </div><!-- End .span12 -->

</div><!-- End .row-fluid -->
{% endblock body %}

{# javascripts #}

{% block javascripts %}
    {{ parent() }}

    {% javascripts
        '@ScheduleBundle/Resources/public/js/fullcalendar.js'
     %}

<script src="{{ asset_url }}"></script>
    {% endjavascripts %}

<script>
    $(document).ready(function() {

        // page is now ready, initialize the calendar...

        $('#calendar').fullCalendar({
            header: false,
            allDaySlot: false,
            defaultView: "agendaWeek",
            firstDay: 1,
            events: {{ eventJson|raw }},
            timeFormat: 'H:mm',
            minTime: "8:00",
            maxTime: "23:00",
            axisFormat: "H:mm",
            columnFormat: {
                week: "dddd"
            },
            dayNames: [
                "Niedziela",
                "Poniedziałek",
                "Wtorek",
                "Środa",
                "Czwartek",
                "Piątek",
                "Sobota"
            ]
        });

    });
</script>
{% endblock javascripts %}

{# CSS #}

{% block stylesheets %}
    {{ parent() }}

    {% stylesheets filter='cssrewrite'
        'bundles/schedule/css/fullcalendar.css'
        '@MembersBundle/Resources/public/less/members-list.less'
        filter="cssrewrite"
    %}

<link rel="stylesheet" href="{{ asset_url }}" />

    {% endstylesheets %}
{% endblock stylesheets %}