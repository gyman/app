{% extends "base.html.twig" %}

{% block body_class %}membersList{% endblock %}

{% block body %}

<div class="heading">

    <h3>Członkowie klubu</h3>                    

</div><!-- End .heading-->

<!-- Build page from here: Usual with <div class="row-fluid"></div> -->

<div class="icon pull-right">
    <span class="icon32 icomoon-icon-new green"></span>
</div>

<a href="{{ path("_members_list") }}">lista</a>
<a href="{{ path("_members_gallery") }}">galeria</a>

<div class="row-fluid">

    <div class="span12">

        <div class="box gradient">

            <div class="title">
                <h4>
                    <span>Lista osób</span>
                </h4>
            </div>
            <div class="content noPad clearfix">
                <table cellpadding="0" cellspacing="0" border="0" class="dynamicTable display table table-bordered" width="100%" id="membersList">
                    <thead>
                        <tr>
                            <th>Imię i nazwisko</th>
                            <th>Data urodzenia</th>
                            <th>Telefon</th>
                            <th>Email</th>
                            <th>Karnet</th>
                            <th>Akcje</th>
                        </tr>
                    </thead>
                    <tbody>
        {% for member in members %}
                        <tr>
                            <td>{{ member.name }}</td>
                            <td>{{ member.birthdate|date("d.m.Y") }} ({{ member.birthdate|age }})</td>
                            <td>{{ member.phone }}</td>
                            <td><a href="mailto:{{ member.email }}">{{ member.email }}</a></td>
                            <td class="voucherColumn">
                                <div class="progress progress-mini progress-danger left tip" oldtitle="87%" title="" data-hasqtip="true" aria-describedby="qtip-4">
                                    <div style="width: 87%;" class="bar"></div>
                                </div>
                                <span class="percent">3 dni</span>
                            </td>
                            <td><a href="{{ path("_member_edit", {"id" : member.id}) }}" class="editMember">edycja</a></td>
                        </tr>
        {% endfor %}
                    </tbody>
                </table>
            </div>

        </div><!-- End .box -->

    </div><!-- End .span12 -->

</div><!-- End .row-fluid -->

<div id="editMemberModal" class="modal hide fade">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Edycja użytkownika</h3>
    </div>
    <div class="modal-body">

    </div>
    <div class="modal-footer">
        <a href="#" class="btn btn-primary pull-right" id="saveFormInModal">Zapisz</a>
    </div>
</div>
{% endblock %}

{% block javascripts %}
{{ parent() }}
{% javascripts
    '@LayoutBundle/Resources/public/plugins/tables/dataTables/jquery.dataTables.js'
    '@MembersBundle/Resources/public/coffee/membersList.coffee'
    '@DefaultBundle/Resources/public/js/jquery.ui.widget.js'
    '@DefaultBundle/Resources/public/js/jquery.iframe-transport.js'
    '@DefaultBundle/Resources/public/js/jquery.fileupload.js'
 %}
<script src="{{ asset_url }}"></script>
{% endjavascripts %}
{% endblock %}

{% block stylesheets %}
{{ parent() }}
{% stylesheets filter='cssrewrite'
    'bundles/layout/plugins/tables/dataTables/jquery.dataTables.css'
    filter="cssrewrite"
%}
<link rel="stylesheet" href="{{ asset_url }}" />
{% endstylesheets %}
{% endblock %}


