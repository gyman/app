{% extends "ListsBundle::_abstract_list.html.twig" %}

{% block body_class %}vouchersList{% endblock %}

{% block headingTitle %}Karnety{% endblock %}
{% block buttonHeading %}{% endblock %}


{% block toolbarButtons %}
<a href="#" class="btn toolbarButton pull-right" id="getVoucherReportButton">
    <span class="icon16 icomoon-icon-equalizer-2"></span>
    Pobierz raport (csv)
</a>
{% endblock toolbarButtons%}

{% block listHeaderRightToolbox %}
{% block filterButton %}
<div class="pull-left">
    <a id="filterModalButton" href="{{ path("_filter_new",{"listname" : "vouchers"}) }}" class="btn btn-link openUrlInModal">
        <span class="icon16 icomoon-icon-cog-2"></span><span class="icon16 caret"></span>
    </a>
</div>
{% endblock filterButton %}
{% endblock %}

{% block listTabs %}{% include "FiltersBundle:Default:_tabs.html.twig" with {"filter": filter, "listname" :listname, "starred" : false} %}{% endblock listTabs %}

{% block listHeaderFilter %}
                {# TODO unlock for filter
                <button id="filterModalButton" data-target="#filterModal" role="button" data-toggle="modal" class="btn btn-link pull-left">
                    <span class="icon16 icomoon-icon-cog-2"></span><span class="caret"></span>
                </button>
                #}
{% endblock %}

{% block listTitle %}Lista karnetów{% endblock%}
{% block listTableId %}vouchersList{% endblock %}
{% block listTableAttr %}data-ajax-source="{{ path("_vouchers_list", {_format: "json"}) }}"{% endblock %}
{% block listThead %}
<tr>
    <th>Właściciel</th>
    <th>Okres ważności</th>
    <th>Wejść</th>
    <th>Data sprzedaży</th>
    <th>Cena</th>
    <th>Akcje</th> 
</tr>
{% endblock %}

{% block listTbody %}{% endblock %}

{# javascripts #}

{% block javascripts %}
    {{ parent() }}

    {% javascripts
        '@ListsBundle/Resources/public/coffee/vouchers.list.coffee'
        '@LayoutBundle/Resources/public/plugins/forms/select2/select2.min.js'
        '@DefaultBundle/Resources/public/js/jquery.ui.widget.js'
        '@DefaultBundle/Resources/public/js/jquery.ui.spinner.js'

        '@DefaultBundle/Resources/public/js/jquery.iframe-transport.js'
        '@DefaultBundle/Resources/public/js/jquery.fileupload.js'
     %}

<script src="{{ asset_url }}"></script>

    {% endjavascripts %}

{% endblock javascripts %}

{# CSS #}

{% block stylesheets %}
    {{ parent() }}

    {% stylesheets filter='cssrewrite'
        'bundles/layout/plugins/forms/select2/select2.css'
        'bundles/layout/plugins/forms/select2/select2-bootstrap.css'
        '@ListsBundle/Resources/public/less/vouchers-list.less'
        filter="cssrewrite"
    %}

<link rel="stylesheet" href="{{ asset_url }}" />

    {% endstylesheets %}
{% endblock stylesheets %}