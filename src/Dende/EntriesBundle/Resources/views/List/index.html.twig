{% extends "base.html.twig" %}

{% block body_class %}entriesList{% endblock %}

{% block body %}
<div class="heading">
    <h3>Wejścia <small>(tylko odczyt)</small></h3>                    
    {# <a href="{{path("_member_new")}}" class="btn pull-right createNewEntry"><span class="icon32 icomoon-icon-new green"></span>Nowe wejście</a> #}
</div><!-- End .heading-->


<div class="row-fluid">

    <div class="span12">

        <div class="box gradient">

            <div class="title">
                <h4>
                    <span>{% block entriesTitle %}Lista wejść{% endblock entriesTitle %}</span>
                </h4>
            </div>

            <div class="content noPad clearfix">
                {% block entriesBody %}
                <table cellpadding="0" cellspacing="0" border="0" class="dynamicTable display table table-bordered" width="100%" id="entriesList">
                    <thead>
                        <tr>
                            <th>Uczestnik</th>
                            <th>Data i godzina</th>
                            <th>Zajęcia</th>
                            <th>Płatność</th>
                            <th>Akcje</th>
                        </tr>
                    </thead>
                    <tbody>
        {% for entry in entries %}
                        <tr>
                            <td class="profileColumn">
                                {% include "MembersBundle:List:_member_column.html.twig" with {"member" : entry.getMember() } %}
                            </td>
                            <td>
                                {{ entry.getCreated()|date("d.m.y") }} <sup>{{ entry.getCreated()|date("H:i") }}</sup>
                            </td>
                            <td>
                                <div class="badge badge-success">{{ entry.getActivity().getName() }}</div>
                            </td>
                            <td>
                                <div class="badge badge-warning">
                                {{ entry.getEntryType() }}
                                </div>
                            </td>
                            <td class="actionColumn">
                                <div class="btn-group">
                                    {#
                                    <a class="btn btn-mini addEntrance" href="{{ path("_entrance_add", {"id" : entry.getMember().getId() }) }}"><span class="icomoon-icon-signup "></span> Edytuj</a>
                                    <a class="btn btn-mini addEntrance" href=""><span class="icomoon-icon-signup "></span> Usuń</a>
#}
                                </div>
                            </td>
                        </tr>
        {% endfor %}
                    </tbody>
                </table>
                {% endblock entriesBody %}
            </div>

        </div><!-- End .box -->

    </div><!-- End .span12 -->

</div><!-- End .row-fluid -->

{% include 'MembersBundle::_memberModal.html.twig' %}
{% include 'MembersBundle::_entranceModal.html.twig' %}

{% endblock body %}

{# javascripts #}

{% block javascripts %}
    {{ parent() }}

    {% javascripts
        '@LayoutBundle/Resources/public/plugins/tables/dataTables/jquery.dataTables.js'
        '@LayoutBundle/Resources/public/plugins/forms/select2/select2.min.js'
        '@MembersBundle/Resources/public/coffee/members.list.coffee'
        '@DefaultBundle/Resources/public/js/jquery.ui.widget.js'
        '@DefaultBundle/Resources/public/js/jquery.iframe-transport.js'
        '@DefaultBundle/Resources/public/js/jquery.fileupload.js'
        '@DefaultBundle/Resources/public/js/jquery.ui.spinner.js'
     %}

<script src="{{ asset_url }}"></script>

    {% endjavascripts %}

<script>
    $(function() {
        $("table#entriesList").dataTable();
    });
</script>
{% endblock javascripts %}

{# CSS #}

{% block stylesheets %}
    {{ parent() }}

    {% stylesheets filter='cssrewrite'
        'bundles/layout/plugins/tables/dataTables/jquery.dataTables.css'
        'bundles/layout/plugins/forms/select2/select2.css'
        'bundles/layout/plugins/forms/select2/select2-bootstrap.css'
        filter="cssrewrite"
    %}

<link rel="stylesheet" href="{{ asset_url }}" />

    {% endstylesheets %}
{% endblock stylesheets %}