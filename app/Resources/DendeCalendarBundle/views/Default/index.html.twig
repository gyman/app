{% extends '::base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    {% set lang = calendarLang is defined ? calendarLang : 'pl' %}
    {% set club = club %}

    <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', {'callback': 'fos.Router.setData'}) }}"></script>
    <script src='{{ asset("bundles/dendecalendar/js/jquery.min.js") }}'></script>
    <script src='{{ asset("bundles/dendecalendar/js/moment.js") }}'></script>
    <script src='{{ asset("bundles/dendecalendar/js/bootstrap.min.js") }}'></script>
    <script src='{{ asset("bundles/dendecalendar/js/fullcalendar.js") }}'></script>
    <script src='{{ asset("bundles/dendecalendar/js/lang/" ~ lang ~ ".js") }}'></script>
    <script src='{{ asset("bundles/dendecalendar/js/dendeCalendar.js") }}'></script>

    <script>
        var eventClickHandler = function() {};
        var dende_calendar_lang = '{{ lang }}';
        var dende_calendar_tz = '{{ calendarTimezone is defined ? calendarTimezone : 'Europe/Warsaw' }}';
        var minTime = {% if club.details.opened_from is not null %}'{{ club.details.opened_from }}:00'{% else %}'06:00'{% endif %};
        var maxTime = {% if club.details.opened_till is not null %}'{{ club.details.opened_till }}:00'{% else %}'22:00'{% endif %};
    </script>
{% endblock javascripts %}

{% block stylesheets %}
    {{ parent() }}
    <link rel='stylesheet' href="{{ asset('bundles/dendecalendar/css/fullcalendar.css') }}" />
    <link rel='stylesheet' href="{{ asset('bundles/dendecalendar/css/bootstrap.min.css') }}" />
{% endblock stylesheets %}

{% block content %}
<div class="contentwrapper">
    <div class="heading">
        <h3>{{ 'calendar.head.title'|trans }}</h3>
    </div>

    <div class="row-fluid">
        <div class="span12">
            {% include "::_flash.html.twig" %}
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12">
            <div id='calendar'></div>
        </div>
    </div>
</div>
{% endblock content %}